base_url: http://localhost:8000
external_allow_domains:
  - github.com
  - raw.githubusercontent.com
external_allow_max_per_run: 1
external_allow_max_per_day: 5
headless: 0
run_scenarios: 1
auto_run_gap_scenarios: 1
gap_scenario_run_limit: 6
gap_scenario_timeout_sec: 240
scenario_include_api: 1
scenario_exploration: 1
scenario_include_autonomous: 1
autonomous_scenario: 1
autonomous_only: 0
autonomous_max_steps: 12
scenario_lock_ttl_sec: 7200
# If a lock heartbeat is older than this, treat it as stale and allow takeover.
scenario_lock_max_age_sec: 600
# Skip running scenarios only when lock is fresh within this age window.
scenario_lock_skip_age_sec: 600
scenario_shadow_mode: 1 # Shadow mode enabled (was 0)
scenario_min_event_delta: 5
scenario_min_runtime_sec: 4
scenario_retry_on_low_events: 1
scenario_retry_delay_sec: 8
scenario_scheduler_enabled: 1
scenario_scheduler_auto_budget: 1
scenario_scheduler_budget_minutes: 0
api_scan_mode: all
api_scan_force_examples: 1
policy_strict: 0
policy_auto_promote_threshold: 0.2
policy_force_promote: 1
autonomous_policy: 1
autonomous_policy_fallback: 1
force_autonomous_policy: 1
force_reindex: 1
force_contract_seed: 1
reasoning_enabled: 1
keep_browser: 0
step_timeout_sec: 45
diagnostic_timeout_sec: 600
diagnostic_fast_strategy: scan
diagnostic_idle_guard_sec: 120
fast_verify: 0
master_verify_lock_ttl_sec: 7200
agent_mode: autonomous
agent_mode_bypass_env: BGL_LIGHT_MODE
browser_enabled: 1
browser_mode: visible
max_pages: 3
page_idle_timeout: 120
run_scenarios_lock_ttl_sec: 7200
browser_cpu_max: null
browser_ram_min_gb: null
run_gap_tests: 1
run_api_contract: 1
measure_perf: 1
llm:
  base_url: http://127.0.0.1:11434
  model: qwen2.5-coder:7b
  auto_start: 1
feature_flags:
  deprecated_routes: []
decision:
  mode: autonomous
  mode_bypass_env: BGL_LIGHT_MODE
  auto_fix:
    min_confidence: 0.60
    max_risk: medium
  refactor:
    requires_human: false
  reindex_full:
    requires_human: false
  force_no_human_approvals: 1
approvals_enabled: 0
force_no_human_approvals: 1
execution_mode: autonomous
post_wait_ms: 1500
hover_wait_ms: 300
slow_mo_ms: 400
allow_prod_without_human: 1
auto_submit_search: 1
auto_submit_form: 1
store_ui_actions: 1
ui_action_limit: 80
ui_action_window_days: 7
ui_action_sample_limit: 12
ui_action_goal_limit: 12
ui_action_goal_min_score: 40
min_ui_action_coverage: 30
coverage_min_events: 20
ui_action_min_snapshots: 2
flow_min_events: 10
flow_require_events: 1
memory_auto_curate: 1
memory_auto_merge: 1
memory_auto_split: 1
memory_merge_limit: 240
memory_split_limit: 80
memory_group_min: 3
memory_suppress_threshold: 0.35
memory_split_min_len: 180
autonomy_goal_limit: 12
canary_min_age_sec: 0
canary_auto_rollback: 1
canary_recheck_sec: 3600
post_apply_validate: 1
post_apply_validate_mode: checks
post_apply_validate_max_files: 4
post_apply_validate_prod: 1
post_apply_auto_rollback_on_fail: 1
post_apply_immediate_canary_eval: 1
post_apply_auto_promote_prod: 1
auto_patch_on_errors: 1
auto_patch_limit: 2
auto_patch_min_conf: 0.6
auto_patch_min_evidence: 3
dream_mode_on_exploration: 1
dream_mode_timeout_sec: 60
dream_mode_batch_limit: 8
dream_mode_max_insights: 8
dream_mode_sleep_seconds: 0.1
# Self-loop: experiences → proposals (reduced thresholds to activate loop)
auto_propose: 1
auto_propose_min_conf: 0.6
auto_propose_min_evidence: 2
auto_propose_min_conf_high: 0.65
auto_propose_min_evidence_high: 1
auto_propose_limit: 8
auto_plan: 1
auto_plan_limit: 3
auto_apply: 1
auto_apply_limit: 5
auto_apply_timeout_sec: 120
# Auto-run scenarios after proposal apply
auto_run_scenarios_after_apply: 1
auto_run_scenarios_after_apply_prod: 1
auto_run_scenarios_after_apply_limit: 6
auto_run_scenarios_after_apply_timeout_sec: 240
auto_run_scenarios_after_apply_include_api: 1
auto_run_scenarios_after_apply_include_autonomous: 0
auto_run_scenarios_after_apply_headless: 1
# Self-improving loop: context_digest → experiences → proposals → sandbox → verify
auto_digest: 1
auto_digest_hours: 12
auto_digest_limit: 400
auto_verify: 1
auto_verify_on_low_success: 1
auto_verify_success_threshold: 0.6
auto_verify_on_ui_gap: 1
auto_verify_ui_gap_threshold: 30
auto_verify_on_route_gap: 1
auto_verify_route_coverage_threshold: 60
auto_verify_on_contract_gap: 1
stall_recovery_threshold: 2
idle_recovery_after_sec: 6
idle_recovery_enabled: 1
precheck_fail_timeout_sec: 8
auto_self_heal: 1
self_heal_toggle_limit: 3
self_heal_write_goal: 1
self_heal_goal_ttl_days: 7
self_heal_write_gap_goal: 1
self_heal_text_limit: 3
prod_ops_full: 1
prod_ops_hours: 0
prod_ops_limit: 0
fallback_rules_enabled: 0
fallback_rules_lookback_hours: 0
fallback_rules_min_samples: 3
fallback_rules_block_rate: 0.4
fallback_rules_expire_days: 7
fallback_block_disabled: 1
fallback_require_human_disabled: 1
fallback_outcomes_enabled: 0
fallback_outcomes_hours: 24
fallback_outcomes_min_samples: 4
fallback_outcomes_fail_rate: 0.45
fallback_outcomes_block_rate: 0.75
fallback_outcomes_expire_days: 7
# External dependency fallback (reduced from 30min to 5min, min_count 1→3 to reduce blocking)
external_dependency_fallback_enabled: 0
external_dependency_window_minutes: 10
external_dependency_retry_minutes: 10
external_dependency_fallback_minutes: 5
external_dependency_min_count: 999999
fallback_runtime_enabled: 0
fallback_code_intent_enabled: 0
fallback_guard_enabled: 0
canary_external_dependency_rollback: 1
