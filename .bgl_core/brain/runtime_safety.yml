rules:
- id: RS001
  name: Automated Writability Check
  description: Verify file/folder permissions before performing write operations.
  action: WARN
  rationale: Prevents task failure and partial writes when OS denies access.
  scope: filesystem
- id: RS002
  name: Sandbox Vendor Link Guard
  description: Skip creating vendor junction if target exists to avoid mklink errors.
  action: INFO
  rationale: Documents the current sandbox behavior; prevents noisy failures.
- id: RS003
  name: Canonical Rename Pipeline Enforcement
  description: rename_class must follow playbook rename_class (update refs incl. tests,
    refresh autoload, use sandbox DB copy). PHPUnit must not run before autoload refresh.
  action: WARN
  rationale: Prevents inconsistent state during rename; avoids repeated failures.
  scope: sandbox
- id: RS004
  name: Production Mode Write Lock
  description: When PRODUCTION_MODE is enabled, all API write operations must be centrally
    blocked (e.g., in autoload/middleware) with explicit 403, except whitelisted maintenance
    endpoints.
  action: WARN
  rationale: Prevents تسلل بيانات اختبار/تعديلات غير مقصودة في بيئة الإنتاج.
  scope: api
- id: RS005
  name: Rate Limit Guard
  description: API write endpoints should enforce a rate limiting middleware/guard
    with configurable thresholds.
  action: WARN
  rationale: يمنع إساءة الاستخدام والضغط المفاجئ على مسارات الكتابة.
  scope: api
- id: RS006
  name: audit_trail_required
  description: Ensure audit trail exists for CRUD on banks/suppliers
  action: WARN
  rationale: Track sensitive changes for compliance
  scope: app
- id: RS007
  name: data_validation_required
  description: Enforce email/phone validation on write/import
  action: WARN
  rationale: Prevent bad data and user-facing errors
  scope: app
- id: RS008
  name: alerts_on_failures
  description: Alert on repeated API/import failures
  action: WARN
  rationale: Early warning for production incidents
  scope: api
- id: RS009
  name: caching_for_reports
  description: Add caching for heavy dashboard/report queries
  action: WARN
  rationale: Improve performance while respecting consistency
  scope: app
- id: RS010
  name: critical_tests_presence
  description: Critical PHPUnit group for create/update/export
  action: WARN
  rationale: Guard key flows with fast tests
  scope: tests
- id: RS011
  name: settings_ux_feedback
  description: Settings page should auto-save with user/time indicator
  action: WARN
  rationale: Reduce config errors and improve UX
  scope: ui
- id: RS012
  name: import_safety_guards
  description: Enforce size/type checks and sanitization on imports
  action: WARN
  rationale: Prevent crashes and unsafe data on bulk imports
  scope: api
- id: RS013
  name: backup_export_available
  description: Provide lightweight backup/export with partial restore
  action: WARN
  rationale: Recoverability for critical master data
  scope: ops
- id: RS_454
  name: Auto rule for 454
  description: Ensure playbook 454 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_560
  name: Auto rule for 560
  description: Ensure playbook 560 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_689
  name: Auto rule for 689
  description: Ensure playbook 689 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_690
  name: Auto rule for 690
  description: Ensure playbook 690 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_699
  name: Auto rule for 699
  description: Ensure playbook 699 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_716
  name: Auto rule for 716
  description: Ensure playbook 716 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_717
  name: Auto rule for 717
  description: Ensure playbook 717 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_726
  name: Auto rule for 726
  description: Ensure playbook 726 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_743
  name: Auto rule for 743
  description: Ensure playbook 743 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_744
  name: Auto rule for 744
  description: Ensure playbook 744 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_753
  name: Auto rule for 753
  description: Ensure playbook 753 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_770
  name: Auto rule for 770
  description: Ensure playbook 770 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_771
  name: Auto rule for 771
  description: Ensure playbook 771 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_790
  name: Auto rule for 790
  description: Ensure playbook 790 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_791
  name: Auto rule for 791
  description: Ensure playbook 791 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_800
  name: Auto rule for 800
  description: Ensure playbook 800 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_PAT_PHASE3_INTEGRITY
  name: Auto rule for PAT_PHASE3_INTEGRITY
  description: Ensure playbook PAT_PHASE3_INTEGRITY is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_825
  name: Auto rule for 825
  description: Ensure playbook 825 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_842
  name: Auto rule for 842
  description: Ensure playbook 842 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_859
  name: Auto rule for 859
  description: Ensure playbook 859 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_878
  name: Auto rule for 878
  description: Ensure playbook 878 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-09'
- id: RS_895
  name: Auto rule for 895
  description: Ensure playbook 895 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_905
  name: Auto rule for 905
  description: Ensure playbook 905 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_938
  name: Auto rule for 938
  description: Ensure playbook 938 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1003
  name: Auto rule for 1003
  description: Ensure playbook 1003 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1020
  name: Auto rule for 1020
  description: Ensure playbook 1020 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1058
  name: Auto rule for 1058
  description: Ensure playbook 1058 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1076
  name: Auto rule for 1076
  description: Ensure playbook 1076 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1119
  name: Auto rule for 1119
  description: Ensure playbook 1119 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1154
  name: Auto rule for 1154
  description: Ensure playbook 1154 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1171
  name: Auto rule for 1171
  description: Ensure playbook 1171 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1188
  name: Auto rule for 1188
  description: Ensure playbook 1188 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1205
  name: Auto rule for 1205
  description: Ensure playbook 1205 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1214
  name: Auto rule for 1214
  description: Ensure playbook 1214 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-10'
- id: RS_1223
  name: Auto rule for 1223
  description: Ensure playbook 1223 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-11'
- id: RS_1240
  name: Auto rule for 1240
  description: Ensure playbook 1240 is applied
  action: WARN
  rationale: Auto-generated from approved playbook
  scope:
  - '*'
  origin: auto_generated
  created: '2026-02-11'
