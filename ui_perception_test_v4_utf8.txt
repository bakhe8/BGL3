[*] Testing Grounding logic...
[*] Sending grounded chat request with UI context...
[*] ReasoningEngine: Checking UI context for chat: http://localhost:8000/index.php

--- AGENT RESPONSE ---

```json
{
  "status": "SUCCESS",
  "message": "Based on the verified UI context, here are the visible buttons and their functions:",
  "buttons": [
    {
      "id": "bgl-confirm-yes",
      "text": "نعم، تابع",
      "type": "submit",
      "function": "Confirmation button to proceed with an action"
    },
    {
      "id": "bgl-confirm-no",
      "text": "إلغاء",
      "type": "submit",
      "function": "Cancel or abort the current action"
    },
    {
      "id": "hiddenFileInput",
      "text": "unlabeled",
      "type": "file",
      "function": "Hidden file input for uploading files"
    },
    {
      "id": "none",
      "text": "← السابق",
      "type": "submit",
      "function": "Navigate to the previous page or step"
    },
    {
      "id": "none",
      "text": "التالي →",
      "type": "submit",
      "function": "Navigate to the next page or step"
    },
    {
      "id": "none",
      "text": "↩️ العودة للوضع الحالي",
      "type": "submit",
      "function": "Return to the current state/position"
    },
    {
      "id": "none",
      "text": "💾 حفظ",
      "type": "submit",
      "function": "Save current data or changes"
    },
    {
      "id": "none",
      "text": "🔄 تمديد",
      "type": "submit",
      "function": "Extend or renew something (likely a guarantee)"
    },
    {
      "id": "none",
      "text": "📉 تخفيض",
      "type": "submit",
      "function": "Reduce or decrease something"
    },
    {
      "id": "none",
      "text": "📤 إفراج",
      "type": "submit",
      "function": "Release or discharge something"
    },
    {
      "id": "none",
      "text": "+ إضافة \"\" وتعيينه كمورد لهذا الضمان",
      "type": "submit",
      "function": "Add and assign a new supplier to this guarantee"
    },
    {
      "id": "none",
      "text": "🖨️",
      "type": "submit",
      "function": "Print overlay/functionality"
    },
    {
      "id": "none",
      "text": "✍️ يدوي",
      "type": "submit",
      "function": "Manual input/entry mode"
    },
    {
      "id": "none",
      "text": "📊 ملف",
      "type": "submit",
      "function": "File-based input/processing"
    },
    {
      "id": "none",
      "text": "📋 لصق",
      "type": "submit",
      "function": "Paste data functionality"
    },
    {
      "id": "addNoteBtn",
      "text": "+ إضافة ملاحظة",
      "type": "submit",
      "function": "Add a new note"
    },
    {
      "id": "none",
      "text": "إلغاء",
      "type": "submit",
      "function": "Cancel note operation"
    },
    {
      "id": "none",
      "text": "حفظ",
      "type": "submit",
      "function": "Save note"
    },
    {
      "id": "btnCloseManualEntry",
      "text": "×",
      "type": "submit",
      "function": "Close manual entry modal"
    },
    {
      "id": "btnCancelManualEntry",
      "text": "إلغاء",
      "type": "button",
      "function": "Cancel manual entry"
    },
    {
      "id": "btnSaveManualEntry",
      "text": "✓ حفظ وإضافة",
      "type": "button",
      "function": "Save and add manual entry"
    },
    {
      "id": "btnClosePasteModal",
      "text": "×",
      "type": "submit",
      "function": "Close paste modal"
    },
    {
      "id": "btnCancelPaste",
      "text": "إلغاء",
      "type": "submit",
      "function": "Cancel paste operation"
    },
    {
      "id": "btnProcessPaste",
      "text": "✨ تحليل وإضافة",
      "type": "submit",
      "function": "Analyze and add pasted data"
    },
    {
      "id": "btnCloseExcelModal",
      "text": "×",
      "type": "submit",
      "function": "Close Excel modal"
    },
    {
      "id": "btnCancelExcel",
      "text": "إلغاء",
      "type": "submit",
      "function": "Cancel Excel operation"
    },
    {
      "id": "btnUploadExcel",
      "text": "📤 رفع وتحليل",
      "type": "submit",
      "function": "Upload and analyze Excel file"
    }
  ],
  "navigation_links": [
    {
      "text": "🏠 الرئيسية",
      "classes": "btn-global active",
      "function": "Navigate to main/dashboard page"
    },
    {
      "text": "📦 الدفعات",
      "classes": "btn-global",
      "function": "Navigate to batches section"
    },
    {
      "text": "📊 إحصاءات",
      "classes": "btn-global",
      "function": "Navigate to statistics section"
    },
    {
      "text": "⚙ إعدادات",
      "classes": "btn-global",
      "function": "Navigate to settings section"
    },
    {
      "text": "🛠️ صيانة",
      "classes": "btn-global",
      "function": "Navigate to maintenance section"
    }
  ],
  "status_links": [
    {
      "text": "📊 54",
      "function": "Show 54 items (likely total guarantees)"
    },
    {
      "text": "✅ 31",
      "function": "Show 31 approved/completed items"
    },
    {
      "text": "⚠️ 23",
      "function": "Show 23 warning/attention items"
    },
    {
      "text": "🔓 7",
      "function": "Show 7 unlocked/available items"
    },
    {
      "text": "🪚 عرض التجريبية",
      "function": "Show experimental/preview features"
    }
  ]
}
```

--- END RESPONSE ---

