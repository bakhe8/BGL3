classifications:
  controller:
    path_contains: Http/Controllers
    suffix: Controller
    confidence: high
  service:
    path_contains: app/Services
    suffix: Service
    confidence: high
  repository:
    path_contains: app/Repositories
    suffix: Repository
    confidence: high
  model:
    path_contains: app/Models
    confidence: high
rules:
- id: R001
  name: Controller-to-Model Encapsulation
  description: 'Forbidden: Controllers must not access Models directly. Use Services.'
  from_type: controller
  to_type: model
  action: BLOCK
  rationale: "Prevent fat controllers and enforce domain orchestration via services layer."
  severity: critical
- id: R002
  name: Controller-to-Repository Separation
  description: 'Forbidden: Controllers must not access Repositories directly. Use Services.'
  from_type: controller
  to_type: repository
  action: BLOCK
  rationale: "Keep controllers thin; repositories are orchestrated through services."
  severity: critical
